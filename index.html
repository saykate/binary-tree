<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>binarySearchTree</title>
  </head>
  <body>
    <script>
      const testArr = [1, 7, 4, 23, 8, 9, 4, 3, 5, 7, 9, 67, 6345, 324];

      //Merge function for merging sorted arrays
      function merge(left, right) {
        let array = [];
        while (left.length && right.length) {
          if (left[0] < right[0]) {
            array.push(left.shift());
          } else {
            array.push(right.shift());
          }
        }
        return [...array, ...left, ...right];
      }

      //Merge sort for sorting an array
      function mergeSort(arr) {
        let middle = arr.length / 2;

        if (arr.length < 2) {
          return arr;
        }

        let left = arr.splice(0, middle);

        return merge(mergeSort(left), mergeSort(arr));
      }

      //Remove duplicate elements from an array
      function checkForDupes(arr) {
        return arr.filter((item, index) => arr.indexOf(item) === index);
      }

      //Node factory for creating tree nodes
      const node = function (data, right = null, left = null) {
        return {
          nodeData: data,
          rightChild: right,
          leftChild: left,
        };
      };

      //Build binary search tree from a sorted array
      const buildTree = function(arr) {
        let sortedArr = mergeSort(checkForDupes(arr));
        if(sortedArr.length < 1) return null;

        const rootIndex = parseInt(sortedArr.length / 2);
        const root = node(sortedArr[rootIndex]);

        root.leftChild = buildTree(sortedArr.slice(0, rootIndex))
        root.rightChild = buildTree(sortedArr.slice(rootIndex + 1));

        return { root };
      };

      const tree = function() {
       
      };

      const insert = function(tree, item) {
       if(!tree || !tree.root) {
        console.log({ root: node(item) });
        return { root: node(item) }
       } else {
        const searchTree = function(item) {
        if(item < tree.root.nodeData) {
          console.log('we are on the left')
          if(tree.root.leftChild === null) {
           return tree.root.leftChild = node(item)
          } else if (tree.root.leftChild !== null) {
            return searchTree(tree.root.leftChild)
          } 
          } else if(item > tree.root.nodeData) {
          console.log('we are on the right')
          if(tree.root.rightChild === null) {
           return tree.root.rightChild = node(item)
          } else if (tree.root.rightChild !== null) {
            return searchTree(tree.root.rightChild)
          } 
        } else {
            return null;
          }
      };
        searchTree(item);
      } console.log(tree.root)
      }

      const prettyPrint = (node, prefix = "", isLeft = true) => {
        if (node.root === null) {
          return;
        }
        if (node.root.rightChild !== null) {
          prettyPrint(
            node.root.rightChild,
            `${prefix}${isLeft ? "│   " : "    "}`,
            false
          );
        }
        console.log(`${prefix}${isLeft ? "└── " : "┌── "}${node.root.nodeData}`);
        if (node.root.leftChild !== null) {
          prettyPrint(
            node.root.leftChild,
            `${prefix}${isLeft ? "    " : "│   "}`,
            true
          );
        }
      };

      const treeRoot = buildTree([6, 7, 8]);
      insert(treeRoot, 5);
      prettyPrint(treeRoot);
      
      
    </script>
  </body>
</html>
